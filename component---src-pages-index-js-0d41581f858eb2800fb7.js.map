{"version":3,"sources":["webpack:///./src/images/wave.svg","webpack:///./src/pages/index.js"],"names":["module","exports","canvasActivated","setupCanvas","document","getElementById","hidden","canvas","contextOfCanvas","getContext","canvasWidth","width","window","innerWidth","canvasHeight","height","innerHeight","audioContext","AudioContext","analyser","createAnalyser","fftSize","navigator","mediaDevices","getUserMedia","audio","then","audioStream","createMediaStreamSource","connect","audioData","Uint8Array","frequencyBinCount","dataLength","length","lineHeight","xPosition","fillStyle","fillRect","loop","requestAnimationFrame","imageData","getImageData","putImageData","getByteFrequencyData","i","ratio","hue","lightness","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","Home","className","href","target","alt","src","image","id","onClick","layoutStyles"],"mappings":"8EAAAA,EAAOC,QAAU,s+F,yDCAjB,kHAKIC,GAAkB,EAEtB,SAASC,IACP,IAAID,EAAJ,CAGAA,GAAkB,EAElBE,SAASC,eAAe,eAAeC,QAAS,EAGhD,IAAIC,EAASH,SAASC,eAAe,cAGjCG,EAAkBD,EAAOE,WAAW,MAElCC,EAAeH,EAAOI,MAAQC,OAAOC,WACrCC,EAAgBP,EAAOQ,OAASH,OAAOI,YAIvCC,EAAe,IAAIC,aACnBC,EAAWF,EAAaG,iBAG9BD,EAASE,QAAU,KAGnBC,UAAUC,aAAaC,aAAa,CAAEC,OAAO,IAAQC,MAGrD,SAAiBC,GAEKV,EAAaW,wBAAwBD,GAC7CE,QAAQV,GAGpB,IAAMW,EAAY,IAAIC,WAAWZ,EAASa,mBACpCC,EAAaH,EAAUI,OAEvBC,EAAarB,EAAemB,EAC5BG,EAAY1B,EAAc,EAEhCF,EAAgB6B,UAAhB,sBACA7B,EAAgB8B,SAAS,EAAG,EAAG5B,EAAaI,GAI5C,SAASyB,IAEP3B,OAAO4B,sBAAsBD,GAG7B,IAAIE,EAAYjC,EAAgBkC,aAC9B,EACA,EACAhC,EAAc,EACdI,GAGFN,EAAgB8B,SAAS,EAAG,EAAG5B,EAAaI,GAC5CN,EAAgBmC,aAAaF,EAAW,EAAG,GAG3CtB,EAASyB,qBAAqBd,GAE9B,IAAK,IAAIe,EAAI,EAAGA,EAAIZ,EAAYY,IAAK,CACnC,IAAIC,EAAQhB,EAAUe,GAAK,IAEvBE,GAAe,IAARD,EAAc,KAAO,IAE5BE,EAAY,GAAK,GAAKF,EAAQ,IAElCtC,EAAgByC,YAChBzC,EAAgB0C,YAAhB,OAAqCH,EAArC,WAA4DC,EAA5D,IACAxC,EAAgB2C,UAAY,GAC5B3C,EAAgB4C,OAAOhB,EAAWtB,EAAe+B,EAAIV,GACrD3B,EAAgB6C,OACdjB,EACAtB,GAAgB+B,EAAIV,EAAaA,IAEnC3B,EAAgB8C,UAnCpBf,OAyCW,SAASgB,IACtB,OACE,6BACE,yBAAKC,UAAU,aACb,uBAAGC,KAAK,0CAA0CC,OAAO,UACvD,yBAAKC,IAAI,cAAcC,IAAKC,OAE9B,wBAAIL,UAAU,eAAd,eAEF,wBAAIM,GAAG,cAAcC,QAAS5D,GAA9B,kBAGA,4BACE4D,QAAS5D,EACT2D,GAAG,aACHN,UAAWQ,IAAazD","file":"component---src-pages-index-js-0d41581f858eb2800fb7.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDY5LjMzMyA0NjkuMzMzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjkuMzMzIDQ2OS4zMzM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIHN0eWxlPSJmaWxsOiNGNDQzMzY7IiBkPSJNMTAuNjY3LDI5OC42NjdDNC43NzYsMjk4LjY2NywwLDI5My44OTEsMCwyODhWMTgxLjMzM2MwLTUuODkxLDQuNzc2LTEwLjY2NywxMC42NjctMTAuNjY3DQoJCXMxMC42NjcsNC43NzYsMTAuNjY3LDEwLjY2N1YyODhDMjEuMzMzLDI5My44OTEsMTYuNTU4LDI5OC42NjcsMTAuNjY3LDI5OC42Njd6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGw6I0Y0NDMzNjsiIGQ9Ik03NC42NjcsMzg0QzY4Ljc3NiwzODQsNjQsMzc5LjIyNCw2NCwzNzMuMzMzVjk2YzAtNS44OTEsNC43NzYtMTAuNjY3LDEwLjY2Ny0xMC42NjcNCgkJYzUuODkxLDAsMTAuNjY3LDQuNzc2LDEwLjY2NywxMC42Njd2Mjc3LjMzM0M4NS4zMzMsMzc5LjIyNCw4MC41NTgsMzg0LDc0LjY2NywzODR6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGw6I0Y0NDMzNjsiIGQ9Ik0xMzguNjY3LDQ2OS4zMzNjLTUuODkxLDAtMTAuNjY3LTQuNzc2LTEwLjY2Ny0xMC42Njd2LTQ0OEMxMjgsNC43NzYsMTMyLjc3NiwwLDEzOC42NjcsMA0KCQlzMTAuNjY3LDQuNzc2LDEwLjY2NywxMC42Njd2NDQ4QzE0OS4zMzMsNDY0LjU1OCwxNDQuNTU4LDQ2OS4zMzMsMTM4LjY2Nyw0NjkuMzMzeiIvPg0KCTxwYXRoIHN0eWxlPSJmaWxsOiNGNDQzMzY7IiBkPSJNMjAyLjY2Nyw0NDhjLTUuODkxLDAtMTAuNjY3LTQuNzc2LTEwLjY2Ny0xMC42NjdWMzJjMC01Ljg5MSw0Ljc3Ni0xMC42NjcsMTAuNjY3LTEwLjY2Nw0KCQlTMjEzLjMzMywyNi4xMDksMjEzLjMzMywzMnY0MDUuMzMzQzIxMy4zMzMsNDQzLjIyNCwyMDguNTU4LDQ0OCwyMDIuNjY3LDQ0OHoiLz4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjQ0MzM2OyIgZD0iTTI2Ni42NjcsMzYyLjY2N2MtNS44OTEsMC0xMC42NjctNC43NzYtMTAuNjY3LTEwLjY2N1YxMTcuMzMzYzAtNS44OTEsNC43NzYtMTAuNjY3LDEwLjY2Ny0xMC42NjcNCgkJYzUuODkxLDAsMTAuNjY3LDQuNzc2LDEwLjY2NywxMC42NjdWMzUyQzI3Ny4zMzMsMzU3Ljg5MSwyNzIuNTU4LDM2Mi42NjcsMjY2LjY2NywzNjIuNjY3eiIvPg0KCTxwYXRoIHN0eWxlPSJmaWxsOiNGNDQzMzY7IiBkPSJNMzMwLjY2Nyw0NDhjLTUuODkxLDAtMTAuNjY3LTQuNzc2LTEwLjY2Ny0xMC42NjdWMzJjMC01Ljg5MSw0Ljc3Ni0xMC42NjcsMTAuNjY3LTEwLjY2Nw0KCQljNS44OTEsMCwxMC42NjcsNC43NzYsMTAuNjY3LDEwLjY2N3Y0MDUuMzMzQzM0MS4zMzMsNDQzLjIyNCwzMzYuNTU4LDQ0OCwzMzAuNjY3LDQ0OHoiLz4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjQ0MzM2OyIgZD0iTTM5NC42NjcsMzYyLjY2N2MtNS44OTEsMC0xMC42NjctNC43NzYtMTAuNjY3LTEwLjY2N1YxMTcuMzMzYzAtNS44OTEsNC43NzYtMTAuNjY3LDEwLjY2Ny0xMC42NjcNCgkJYzUuODkxLDAsMTAuNjY3LDQuNzc2LDEwLjY2NywxMC42NjdWMzUyQzQwNS4zMzMsMzU3Ljg5MSw0MDAuNTU4LDM2Mi42NjcsMzk0LjY2NywzNjIuNjY3eiIvPg0KCTxwYXRoIHN0eWxlPSJmaWxsOiNGNDQzMzY7IiBkPSJNNDU4LjY2NywyOTguNjY3Yy01Ljg5MSwwLTEwLjY2Ny00Ljc3Ni0xMC42NjctMTAuNjY3VjE4MS4zMzNjMC01Ljg5MSw0Ljc3Ni0xMC42NjcsMTAuNjY3LTEwLjY2Nw0KCQljNS44OTEsMCwxMC42NjcsNC43NzYsMTAuNjY3LDEwLjY2N1YyODhDNDY5LjMzMywyOTMuODkxLDQ2NC41NTgsMjk4LjY2Nyw0NTguNjY3LDI5OC42Njd6Ii8+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg==\"","import React from \"react\"\r\n\r\nimport layoutStyles from \"./index.css\"\r\nimport image from \"../images/wave.svg\"\r\n\r\nvar canvasActivated = false\r\n\r\nfunction setupCanvas() {\r\n  if (canvasActivated) {\r\n    return\r\n  }\r\n  canvasActivated = true\r\n\r\n  document.getElementById(\"clickHeader\").hidden = true\r\n\r\n  //cavnas\r\n  var canvas = document.getElementById(\"specCanvas\")\r\n\r\n  //2D context of canvas\r\n  var contextOfCanvas = canvas.getContext(\"2d\")\r\n\r\n  const canvasWidth = (canvas.width = window.innerWidth)\r\n  const canvasHeight = (canvas.height = window.innerHeight)\r\n\r\n  //connect our stream to our analyzer, and ask our anaylzer for specific types of data\r\n  //ie frequency spectrum at our current point in time\r\n  const audioContext = new AudioContext()\r\n  const analyser = audioContext.createAnalyser()\r\n\r\n  //how detailed our data is going to be\r\n  analyser.fftSize = 1024\r\n\r\n  // microphone\r\n  navigator.mediaDevices.getUserMedia({ audio: true }).then(process)\r\n\r\n  //takes our audio stream\r\n  function process(audioStream) {\r\n    //wraps stream in a source object allows us to connect our stream to our analyzer\r\n    const audioSource = audioContext.createMediaStreamSource(audioStream)\r\n    audioSource.connect(analyser)\r\n\r\n    //array of audio data with  has length of audioContext.fftSize\r\n    const audioData = new Uint8Array(analyser.frequencyBinCount)\r\n    const dataLength = audioData.length\r\n\r\n    const lineHeight = canvasHeight / dataLength\r\n    const xPosition = canvasWidth - 1\r\n\r\n    contextOfCanvas.fillStyle = `hsl(280, 100%, 10%)`\r\n    contextOfCanvas.fillRect(0, 0, canvasWidth, canvasHeight)\r\n\r\n    loop()\r\n\r\n    function loop() {\r\n      //call again on next frame\r\n      window.requestAnimationFrame(loop)\r\n\r\n      //take data and move it one pixel to the left\r\n      let imageData = contextOfCanvas.getImageData(\r\n        1,\r\n        0,\r\n        canvasWidth - 1,\r\n        canvasHeight\r\n      )\r\n\r\n      contextOfCanvas.fillRect(0, 0, canvasWidth, canvasHeight)\r\n      contextOfCanvas.putImageData(imageData, 0, 0)\r\n\r\n      //analyser will populate and transform data array\r\n      analyser.getByteFrequencyData(audioData)\r\n\r\n      for (let i = 0; i < dataLength; i++) {\r\n        let ratio = audioData[i] / 255\r\n\r\n        let hue = (ratio * 120 + 280) % 360\r\n        let saturation = \"100%\"\r\n        let lightness = 10 + 70 * ratio + \"%\"\r\n\r\n        contextOfCanvas.beginPath()\r\n        contextOfCanvas.strokeStyle = `hsl(${hue}, ${saturation}, ${lightness})`\r\n        contextOfCanvas.lineWidth = 15\r\n        contextOfCanvas.moveTo(xPosition, canvasHeight - i * lineHeight)\r\n        contextOfCanvas.lineTo(\r\n          xPosition,\r\n          canvasHeight - (i * lineHeight + lineHeight)\r\n        )\r\n        contextOfCanvas.stroke()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default function Home() {\r\n  return (\r\n    <div>\r\n      <div className=\"image-div\">\r\n        <a href=\"https://github.com/renchris/spectrogram\" target=\"_blank\">\r\n          <img alt=\"Spectrogram\" src={image} />\r\n        </a>\r\n        <h1 className=\"image-title\">Specotgram</h1>\r\n      </div>\r\n      <h1 id=\"clickHeader\" onClick={setupCanvas}>\r\n        Click to Start\r\n      </h1>\r\n      <canvas\r\n        onClick={setupCanvas}\r\n        id=\"specCanvas\"\r\n        className={layoutStyles.canvas}\r\n      ></canvas>\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}